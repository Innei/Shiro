import{r as a,j as e}from"./index-CCKnoTQH.js";import{s as o}from"./dom-BowoBODo.js";import{c as f}from"./helper-jIGjUHP-.js";import{B as h}from"./index-DtTf1yoA.js";import"./owner-yJWbyhtD.js";import"./use-is-dark-tOelflXD.js";import"./Shiki-BgiKqai8.js";import"./use-event-callback-HURIHk33.js";import"./spring-BSAt5qpK.js";import"./proxy-1Ogy_4R7.js";import"./lodash-Ch6W0gOk.js";import"./StyledButton-CKs5B7yH.js";import"./index-JfDEc0WY.js";const p=a.forwardRef(({content:t,language:m,onChange:d,minHeight:c,className:g,padding:r=0},x)=>{const[s,i]=a.useState(t);a.useEffect(()=>{i(t)},[t]);const n={minHeight:c};return e.jsxs("div",{className:f("relative [&_*]:!font-mono [&_*]:!text-base [&_*]:!leading-normal",g),style:{padding:`${r}px`,"--padding":`${r*2}px`},contentEditable:!1,children:[e.jsx("textarea",{onKeyDown:o,onKeyUp:o,onPaste:o,contentEditable:!1,ref:x,className:"absolute size-[calc(100%-var(--padding))] resize-none overflow-hidden bg-transparent p-0 text-transparent caret-accent",style:n,value:s,onChange:l=>{i(l.target.value),d?.(l.target.value)}}),e.jsx(h,{className:"code-wrap pointer-events-none relative z-[1] !m-0 !p-0",style:n,lang:m,content:s})]})});p.displayName="CodeEditor";const u=()=>e.jsx("div",{className:"h-[300px] overflow-auto border p-4",children:e.jsx(p,{content:new Array(100).fill(null).map(()=>`const a = ${Math.random()};
`).join(""),language:"javascript"})});u.meta={title:"CodeEditor"};export{u as CodeEditorDemo};
