import{r as t}from"./index-CCKnoTQH.js";var K=(e,a,o,d,c,i,u,h)=>{let m=document.documentElement,v=["light","dark"];function y(r){(Array.isArray(e)?e:[e]).forEach(f=>{let S=f==="class",C=S&&i?c.map(b=>i[b]||b):c;S?(m.classList.remove(...C),m.classList.add(i&&i[r]?i[r]:r)):m.setAttribute(f,r)}),T(r)}function T(r){h&&v.includes(r)&&(m.style.colorScheme=r)}function l(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(d)y(d);else try{let r=localStorage.getItem(a)||o,f=u&&r==="system"?l():r;y(f)}catch{}},M=["light","dark"],P="(prefers-color-scheme: dark)",N=typeof window>"u",A=t.createContext(void 0),V={setTheme:e=>{},themes:[]},W=()=>{var e;return(e=t.useContext(A))!=null?e:V},F=e=>t.useContext(A)?t.createElement(t.Fragment,null,e.children):t.createElement(z,{...e}),_=["light","dark"],z=({forcedTheme:e,disableTransitionOnChange:a=!1,enableSystem:o=!0,enableColorScheme:d=!0,storageKey:c="theme",themes:i=_,defaultTheme:u=o?"system":"light",attribute:h="data-theme",value:m,children:v,nonce:y,scriptProps:T})=>{let[l,r]=t.useState(()=>J(c,u)),[f,S]=t.useState(()=>l==="system"?L():l),C=m?Object.values(m):i,b=t.useCallback(n=>{let s=n;if(!s)return;n==="system"&&o&&(s=L());let g=m?m[s]:s,x=a?$(y):null,w=document.documentElement,I=p=>{p==="class"?(w.classList.remove(...C),g&&w.classList.add(g)):p.startsWith("data-")&&(g?w.setAttribute(p,g):w.removeAttribute(p))};if(Array.isArray(h)?h.forEach(I):I(h),d){let p=M.includes(u)?u:null,H=M.includes(s)?s:p;w.style.colorScheme=H}x?.()},[y]),k=t.useCallback(n=>{let s=typeof n=="function"?n(l):n;r(s);try{localStorage.setItem(c,s)}catch{}},[l]),E=t.useCallback(n=>{let s=L(n);S(s),l==="system"&&o&&!e&&b("system")},[l,e]);t.useEffect(()=>{let n=window.matchMedia(P);return n.addListener(E),E(n),()=>n.removeListener(E)},[E]),t.useEffect(()=>{let n=s=>{s.key===c&&(s.newValue?r(s.newValue):k(u))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[k]),t.useEffect(()=>{b(e??l)},[e,l]);let O=t.useMemo(()=>({theme:l,setTheme:k,forcedTheme:e,resolvedTheme:l==="system"?f:l,themes:o?[...i,"system"]:i,systemTheme:o?f:void 0}),[l,k,e,f,o,i]);return t.createElement(A.Provider,{value:O},t.createElement(D,{forcedTheme:e,storageKey:c,attribute:h,enableSystem:o,enableColorScheme:d,defaultTheme:u,value:m,themes:i,nonce:y,scriptProps:T}),v)},D=t.memo(({forcedTheme:e,storageKey:a,attribute:o,enableSystem:d,enableColorScheme:c,defaultTheme:i,value:u,themes:h,nonce:m,scriptProps:v})=>{let y=JSON.stringify([o,a,i,e,h,u,d,c]).slice(1,-1);return t.createElement("script",{...v,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${K.toString()})(${y})`}})}),J=(e,a)=>{if(N)return;let o;try{o=localStorage.getItem(e)||void 0}catch{}return o||a},$=e=>{let a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(a),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(a)},1)}},L=e=>(e||(e=window.matchMedia(P)),e.matches?"dark":"light");const Q=()=>{const{theme:e,systemTheme:a}=W();return e==="dark"||e==="system"&&a==="dark"};export{F as J,Q as u};
