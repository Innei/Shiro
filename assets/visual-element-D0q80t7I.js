import{n as se,p as re,t as L,s as I,b as oe,c as T,r as le,i as ue,o as ce,d as fe}from"./proxy-RnJDDj_j.js";import{f as A,g as me,b as de,d as N,W as q,e as he,h as H,j as z,s as g,n as G,k as pe,l as ye,o as ge,r as Te,J as D,p as Ae,t as E,m as we}from"./index-DW-JcjwO.js";function R(e){let t;return()=>(t===void 0&&(t=e()),t)}function Se(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const h=e=>e*180/Math.PI,M=e=>{const t=h(Math.atan2(e[1],e[0]));return C(t)},be={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:M,rotateZ:M,skewX:e=>h(Math.atan(e[1])),skewY:e=>h(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},C=e=>(e=e%360,e<0&&(e+=360),e),Y=M,B=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),X=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ve={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B,scaleY:X,scale:e=>(B(e)+X(e))/2,rotateX:e=>C(h(Math.atan2(e[6],e[5]))),rotateY:e=>C(h(Math.atan2(-e[2],e[0]))),rotateZ:Y,rotate:Y,skewX:e=>h(Math.atan(e[4])),skewY:e=>h(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function U(e){return e.includes("scale")?1:0}function x(e,t){if(!e||e==="none")return U(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(n)a=Ve,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=be,i=o}if(!i)return U(t);const r=a[t],l=i[1].split(",").map(Me);return typeof r=="function"?r(l):l[r]}const yt=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return x(n,t)};function Me(e){return parseFloat(e.trim())}const gt=e=>e===se||e===re,Ce=new Set(["x","y","z"]),xe=L.filter(e=>!Ce.has(e));function Ke(e){const t=[];return xe.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const V={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>x(t,"x"),y:(e,{transform:t})=>x(t,"y")};V.translateX=V.x;V.translateY=V.y;const p=new Set;let K=!1,F=!1,O=!1;function Z(){if(F){const e=Array.from(p).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const i=Ke(a);i.length&&(n.set(a,i),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const i=n.get(a);i&&i.forEach(([r,l])=>{a.getValue(r)?.set(l)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}F=!1,K=!1,p.forEach(e=>e.complete(O)),p.clear()}function J(){p.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(F=!0)})}function Fe(){O=!0,J(),Z(),O=!1}class Oe{constructor(t,n,a,i,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=i,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(p.add(this),K||(K=!0,A.read(J),A.resolveKeyframes(Z))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:i}=this;if(t[0]===null){const r=i?.get(),l=t[t.length-1];if(r!==void 0)t[0]=r;else if(a&&n){const o=a.readValue(n,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),i&&r===void 0&&i.set(t[0])}Se(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),p.delete(this)}cancel(){this.state==="scheduled"&&(p.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pe=e=>e.startsWith("--");function De(e,t,n){Pe(t)?e.style.setProperty(t,n):e.style[t]=n}const Re=R(()=>window.ScrollTimeline!==void 0),We={};function _e(e,t){const n=R(e);return()=>We[t]??n()}const Q=_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),y=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y([0,.65,.55,1]),circOut:y([.55,0,1,.45]),backIn:y([.31,.01,.66,-.59]),backOut:y([.33,1.53,.69,.99])};function ee(e,t){if(e)return typeof e=="function"?Q()?me(e,t):"ease-out":de(e)?y(e):Array.isArray(e)?e.map(n=>ee(n,t)||$.easeOut):$[e]}function ke(e,t,n,{delay:a=0,duration:i=300,repeat:r=0,repeatType:l="loop",ease:o="easeOut",times:c}={},f=void 0){const s={[t]:n};c&&(s.offset=c);const m=ee(o,i);Array.isArray(m)&&(s.easing=m),I.value&&N.waapi++;const u={delay:a,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};f&&(u.pseudoElement=f);const d=e.animate(s,u);return I.value&&d.finished.finally(()=>{N.waapi--}),d}function te(e){return typeof e=="function"&&"applyToOptions"in e}function Ie({type:e,...t}){return te(e)&&Q()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ne extends q{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:i,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=t,he(typeof t.type!="string");const f=Ie(t);this.animation=ke(n,a,i,f,r),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const s=H(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(s):De(n,a,s),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return z(Number(t))}get time(){return z(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=g(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Re()?(this.animation.timeline=t,G):n(this)}}const ne={anticipate:ge,backInOut:ye,circInOut:pe};function ze(e){return e in ne}function Ee(e){typeof e.ease=="string"&&ze(e.ease)&&(e.ease=ne[e.ease])}const v=10;class Ye extends Ne{constructor(t){Ee(t),Te(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:i,element:r,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new D({...l,autoplay:!1}),c=g(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-v).value,o.sample(c).value,v),o.stop()}}const j=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ae.test(e)||e==="0")&&!e.startsWith("url("));function Be(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xe(e,t,n,a){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],l=j(i,t),o=j(r,t);return!l||!o?!1:Be(e)||(n==="spring"||te(n))&&a}const Ue=new Set(["opacity","clipPath","filter","transform"]),$e=R(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ve(e){const{motionValue:t,name:n,repeatDelay:a,repeatType:i,damping:r,type:l}=e;if(!oe(t?.owner?.current))return!1;const{onUpdate:o,transformTemplate:c}=t.owner.getProps();return $e()&&n&&Ue.has(n)&&(n!=="transform"||!c)&&!o&&!a&&i!=="mirror"&&r!==0&&l!=="inertia"}const je=40;class Le extends q{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:l="loop",keyframes:o,name:c,motionValue:f,element:s,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=E.now();const u={autoplay:t,delay:n,type:a,repeat:i,repeatDelay:r,repeatType:l,name:c,motionValue:f,element:s,...m},d=s?.KeyframeResolver||Oe;this.keyframeResolver=new d(o,(w,S,b)=>this.onKeyframesResolved(w,S,u,!b),c,f,s),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,a,i){this.keyframeResolver=void 0;const{name:r,type:l,velocity:o,delay:c,isHandoff:f,onUpdate:s}=a;this.resolvedAt=E.now(),Xe(t,r,l,o)||((T.instantAnimations||!c)&&s?.(H(t,a,n)),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const u={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>je?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},d=!f&&ve(u)?new Ye({...u,element:u.motionValue.owner.current}):new D(u);d.finished.then(()=>this.notifyFinished()).catch(G),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Fe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function ae(e,t){return e?.[t]??e?.default??e}const qe=new Set(["width","height","top","left","right","bottom",...L]);function W(e,t,n){const a=e.getProps();return le(a,t,n!==void 0?n:a.custom,e)}const He=e=>Array.isArray(e);function Ge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,we(n))}function Ze(e){return He(e)?e[e.length-1]||0:e}function Je(e,t){const n=W(e,t);let{transitionEnd:a={},transition:i={},...r}=n||{};r={...r,...a};for(const l in r){const o=Ze(r[l]);Ge(e,l,o)}}function Qe(e){return!!(ue(e)&&e.add)}function et(e,t){const n=e.getValue("willChange");if(Qe(n))return n.add(t);if(!n&&T.WillChange){const a=new T.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function tt(e){return e.props[ce]}const nt=e=>e!==null;function at(e,{repeat:t,repeatType:n="loop"},a){const i=e.filter(nt),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const it={type:"spring",stiffness:500,damping:25,restSpeed:10},st=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rt={type:"keyframes",duration:.8},ot={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lt=(e,{keyframes:t})=>t.length>2?rt:fe.has(e)?e.startsWith("scale")?st(t[1]):it:ot;function ut({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:i,repeat:r,repeatType:l,repeatDelay:o,from:c,elapsed:f,...s}){return!!Object.keys(s).length}const ct=(e,t,n,a={},i,r)=>l=>{const o=ae(a,e)||{},c=o.delay||a.delay||0;let{elapsed:f=0}=a;f=f-g(c);const s={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-f,onUpdate:u=>{t.set(u),o.onUpdate&&o.onUpdate(u)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:i};ut(o)||Object.assign(s,lt(e,s)),s.duration&&(s.duration=g(s.duration)),s.repeatDelay&&(s.repeatDelay=g(s.repeatDelay)),s.from!==void 0&&(s.keyframes[0]=s.from);let m=!1;if((s.type===!1||s.duration===0&&!s.repeatDelay)&&(s.duration=0,s.delay===0&&(m=!0)),(T.instantAnimations||T.skipAnimations)&&(m=!0,s.duration=0,s.delay=0),s.allowFlatten=!o.type&&!o.ease,m&&!r&&t.get()!==void 0){const u=at(s.keyframes,o);if(u!==void 0){A.update(()=>{s.onUpdate(u),s.onComplete()});return}}return o.isSync?new D(s):new Le(s)};function ft({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function ie(e,t,{delay:n=0,transitionOverride:a,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:l,...o}=t;a&&(r=a);const c=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const s in o){const m=e.getValue(s,e.latestValues[s]??null),u=o[s];if(u===void 0||f&&ft(f,s))continue;const d={delay:n,...ae(r||{},s)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===w&&!d.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=tt(e);if(_){const k=window.MotionHandoffAnimation(_,s,A);k!==null&&(d.startTime=k,S=!0)}}et(e,s),m.start(ct(s,m,u,e.shouldReduceMotion&&qe.has(s)?{type:!1}:d,e,S));const b=m.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{A.update(()=>{l&&Je(e,l)})}),c}function P(e,t,n={}){const a=W(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const r=a?()=>Promise.all(ie(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:s,staggerDirection:m}=i;return mt(e,t,c,f,s,m,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,f]=o==="beforeChildren"?[r,l]:[l,r];return c().then(()=>f())}else return Promise.all([r(),l(n.delay)])}function mt(e,t,n=0,a=0,i=0,r=1,l){const o=[],c=e.variantChildren.size,f=(c-1)*i,s=typeof a=="function",m=s?u=>a(u,c):r===1?(u=0)=>u*i:(u=0)=>f-u*i;return Array.from(e.variantChildren).sort(dt).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(P(u,t,{...l,delay:n+(s?0:a)+m(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function dt(e,t){return e.sortNodePosition(t)}function Tt(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const i=t.map(r=>P(e,r,n));a=Promise.all(i)}else if(typeof t=="string")a=P(e,t,n);else{const i=typeof t=="function"?W(e,t,n.custom):t;a=Promise.all(ie(e,i,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}export{Le as A,y as B,ve as C,x as D,De as E,We as F,Oe as K,Ne as N,Tt as a,V as b,He as c,et as d,ct as e,tt as f,ae as g,U as h,gt as i,yt as j,Q as k,$ as l,R as m,Pe as n,Ie as o,qe as p,ee as q,W as r,Je as s,Re as t,te as u,ie as v,Se as w,ke as x,Ye as y,Fe as z};
